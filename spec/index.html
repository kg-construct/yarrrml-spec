<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <title>YARRRML</title>
    <script 
     src='./respec-w3c-common.js'
     class='remove'></script>
    <script class='remove'>
      var respecConfig = {
        specStatus: "unofficial",
        editors: [{
          name: "Ben De Meester",
          url: "https://ben.de-meester.org",
          mailto: "ben.demeester@ugent.be",
          company: 'imec — Ghent University — IDLab',
        },{
          name: "Pieter Heyvaert",
          url: "https://pieterheyvaert.com",
          mailto: "pheyvaer.heyvaert@ugent.be",
          company: 'imec — Ghent University — IDLab',
        }],
        // edDraftURI: "http://some.github.repo",
        shortName: "yarrrml",
        previousURI: "http://w3id.org/yarrrml/spec/index-20180321.html",
        previousPublishDate: "2018-03-21",
        previousMaturity: "unofficial",
        canonicalURI: "http://w3id.org/yarrrml/spec/",
      };
    </script>

    <style>
      .nanotabs { text-align:left; width:500px; margin:20px auto 0; }
      .nanotabs { margin:20px 0 60px; }
      .nanotabs li { float:left; list-style:none; }
      .nanotabs li a { display:block; padding:4px 6px; background:#DDD; color:#333; font:bold 11pt Verdana; text-decoration:none; }
      .nanotabs li a:hover { background:#EEE; color:#000; }
      .nanotabs li a.selected { background:#555; color:#FFF; }
      /*.nanotabs div {clear:left; display:none; background:#EEE; border-top:1px solid #555; border-bottom:1px solid #888; padding:8px; *padding-top:4px; letter-spacing:1px; }*/
    </style>
  </head>
  <body>
    <section id='abstract'>
      <p>
        YARRRML is a human readable text-based representation for declarative generation rules.
        It is a subset of [[YAML]],
        a widely used data serialization language designed to be human-friendly.
      </p>
    </section>
    <section id='sotd'>
    </section>
<!--<section>-->
    <!--<h2>Introduction</h2>-->

    <!--<section>-->
        <!--<h2>Goals</h2>-->

    <!--</section>-->

    <!--<section>-->
        <!--<h2>Relation to existing mapping languages</h2>-->

    <!--</section>-->

    <!--<section>-->
        <!--<h2>Relation to YAML</h2>-->

        <!--<p>-->
            <!--YARRRML is a subset of the YAML.-->
        <!--</p>-->
    <!--</section>-->
<!--</section>-->

    <section>
      <h2>Terminology</h2>

      <dl>
        <dt><dfn>subject</dfn></dt>
        <dd>the subject of an RDF triple</dd>

        <dt><dfn>predicate</dfn></dt>
        <dd>the predicate of an RDF triple</dd>

        <dt><dfn>object</dfn></dt>
        <dd>the object of an RDF triple</dd>

        <dt><dfn>class</dfn></dt>
        <dd>the type of an entity</dd>

        <dt><dfn>datatype</dfn></dt>
        <dd>the type of a literal value</dd>

        <dt><dfn>reference</dfn></dt>
        <dd></dd>

        <dt><dfn>function</dfn></dt>
        <dd>a programmatic function that takes 0 or more input parameters and returns a single result</dd>
      </dl>
    </section>

    <section>
      <h2>Profiles</h2>

      <p>
        This specification includes the following main profiles for tools that process YARRRML documents:
      </p>

      <ul>
        <li>R2RML: applies the semantics specified by [[R2RML]]; and</li>
        <li>RML: applies the semantics specified by RML.</li>
      </ul>

      <p>
        These profiles can be extended with additional profiles, which cannot be used on their own:
      </p>

      <ul>
        <li>FnO: applies the semantics specified by FnO;</li>
        <li>DCAT: applies the semantics specified by DCAT;</li>
        <li>D2RQ: applies the semantics specified by D2RQ;</li>
        <li>SD: applies the semantics specified by SD; and</li>
        <li>CSVW: applies the semantics specified by CSVW ([[csv2rdf]]).</li>
      </ul>
    </section>

    <section>
      <h2>Base IRI</h2>

      <p>
        A base IRI can be defined.
        This IRI will be used for the creation of the IRIs of the term maps and sources of the [R2]RML rules.
      </p>
      <p>
        A base IRI can be added by adding key <code>base</code> with as value the IRI itself to the root of the document.
        In the following example the base IRI is set to <code>http://mybaseiri.com#</code>.
      </p>

      <pre id="example-base-iri" class="nohighlight example" title="base IRI">
        base: http://mybaseiri.com#
      </pre>
    </section>

    <section>
      <h2>Prefixes and namespaces</h2>

      <p>
        A set of prefixes and namespaces are predefined by default in every YARRRML document.
        There are the same as the predefined prefixes for <a href="https://www.w3.org/2011/rdfa-context/rdfa-1.1">RDFa</a>.
      </p>

      <p>
        Custom prefixes can be added by adding the collection <code>prefixes</code> to the root of the document.
        Each combination of a prefix and namespace is added to this collection as a key-value pair.

        In the following example two prefixes are defined: <code>ex</code> and <code>test</code>.
      </p>

      <pre id="example-custom-prefixes" class="nohighlight example" title="custom prefixes">
        prefixes:
          ex: http://www.example.com
          test: http://www.test.com
      </pre>
    </section>

    <section>
      <h2>Template</h2>

      <p>
        A template contains 0 or more constant strings and 0 or more references to data in a data.
        References are prefixed with <code>$(</code> and suffixed with <code>)</code>.
        For example, <code>foo</code> is a template with one constant string.
        <code>$(id)</code> is a template with one reference to <code>id</code>.
        <code>foo-$(id)</code> is a template with one constant string <code>foo-</code> and one reference to <code>id</code>.
      </p>
    </section>

    <section>
      <h2>Data sources</h2>

      <p>
        The data sources are can be defined in the <code>sources</code> collection in the root of the document.
        Each source is added to this collection via a key-value pair.
        The key has to be unique for every source.
        The value is a collection with three keys
        <code>access</code> (required), <code>referenceFormulation</code> (required), and <code>iterator</code> (conditionally required).
      </p>

        <section>
          <h2>Keys</h2>
          <dl>
            <dt><dfn>access</dfn></dt>
            <dd>the local or remote location of the data source</dd>

            <dt><dfn>driver</dfn> (required profiles: RML, D2RQ)</dt>
            <dd>the local or remote location of the data source</dd>

            <dt><dfn>referenceFormulation</dfn> (required profiles: RML)</dt>
            <dd>the reference formulation used on to access data source</dd>

            <dt><dfn>iterator</dfn> (required profiles: RML)</dt>
            <dd>the path to the different records over which to iterate</dd>

            <dt><dfn>delimiter</dfn> (required profiles: RML, CSVW)</dt>
            <dd>the delimiter to separate fields in a record</dd>

            <dt><dfn>encoding</dfn> (required profiles: RML, CSVW)</dt>
            <dd>the encoding used for the data</dd>

            <dt><dfn>query</dfn> (required profiles: RML, R2RML)</dt>
            <dd>the query to execute on the data source to select only a part of the data</dd>

            <dt><dfn>queryFormulation</dfn> (required profiles: RML, R2RML)</dt>
            <dd>the query formulation used on to query the data source</dd>

            <dt><dfn>credentials</dfn> (required profiles: RML, D2RQ)</dt>
            <dd>the credentials required to access the data source</dd>

            <dt><dfn>username</dfn> (required profiles: RML, D2RQ)</dt>
            <dd>the username required to access the data source</dd>

            <dt><dfn>password</dfn> (required profiles: RML, D2RQ)</dt>
            <dd>the password required to access the data source</dd>
          </dl>
		  
		  <div class="note">
			<p>
				To be precise, the <a>iterator</a> contains a "query" as a string,
				as per specification of the <a>referenceFormulation</a>.
				E.g., when using <a>referenceFormulation</a> <code>xpath</code>,
				the <a>iterator</a> will be interpreted as an xPath statement.
				When using <a>referenceFormulation</a> <code>sparql</code>,
				the <a>iterator</a> will be interpreted as a SPARQL query.
				This is similar for <a>queryFormulation</a> and <a>query</a>.
				The latter however is executed when retrieving the data,
				a so-called "view" of the data.
				The former is executed on top of this view.
			</p>
		  </div>
        </section>

        <section>
          <h2>Reference formulations</h2>
          The following reference formulations are supported for these data formats.

          <dl>
            <dt><dfn>CSV</dfn> (required profiles: RML)</dt>
            <dd>
              The reference formulation <code>csv</code> is used for data sources in the CSV format.
              No iterator is required.
              Every row of a CSV data source is considered as a record.
            </dd>

            <dt><dfn>JSON</dfn> (required profiles: RML)</dt>
            <dd>
              The reference formulation <code>jsonpath</code> is used for data sources that can be access via JSONPath expressions.
              An iterator is required.
            </dd>

            <dt><dfn>XML</dfn> (required profiles: RML)</dt>
            <dd>
              The reference formulation <code>xpath</code> is used for data sources that can be access via XPath expressions.
              An iterator is required.
              The reference formulation <code>xquery</code> is used for data sources that can be access via XQuery queries.
              No iterator is required.
              Every row of the result of the query is considered as a record.
            </dd>
          </dl>
        </section>

      <section>
        <h2>Query formulations</h2>
        The following query formulation are supported for these query languages.

        <dl>
          <dt><dfn>SQL</dfn></dt>
          <dd>
            The following query formulations can be used for data sources that can be queried via a SQL query:

            <ul>
              <li>sql2008</li>
              <li>oracle</li>
              <li>mysql</li>
              <li>mssql</li>
              <li>hsql</li>
              <li>postgresql</li>
              <li>db2</li>
              <li>informix</li>
              <li>ingres</li>
              <li>progress</li>
              <li>sybasease</li>
              <li>sybasesqlanywhere</li>
              <li>virtuoso</li>
              <li>firebird</li>
            </ul>

            This list is based on version IRIs identified by <a href="https://www.w3.org/2001/sw/wiki/RDB2RDF/SQL_Version_IRIs">RDB2RDF</a>.
          </dd>

          <dt><dfn>SPARQL</dfn> (required profiles: RML, SD)</dt>
          <dd>
            The query formulation <code>sparql11</code> is used for data sources that can be queried via a SPARQL 1.1 query.
          </dd>
        </dl>
      </section>

        <section>
          <h2>Examples</h2>
          <p>
            In the following example a single data source is defined <code>person-source</code>.
          </p>

          <div id="tabs-1" class="nanotabs">
            <ul>
              <li><a href="#tab1-1" class="selected">YARRRML</a></li>
              <li><a href="#tab1-2">RML</a></li>
              <li><a href="#tab1-3">SPARQL-Generate</a></li>
            </ul>
            <div id="tab1-1">
              <pre id="example-ds1-yarrrml" class="example" title="one data source">
              sources:
                person-source:
                  access: data/person.json
                  referenceFormulation: jsonpath
                  iterator: $
              </pre>
            </div>
            <div id="tab1-2">
              <pre id="example-ds1-rml" class="example" title="one data source">
                <#LogicalSource> a rml:LogicalSource;
                  rml:source "data/person.json";
                  rml:referenceFormulation ql:JSONPath;
                  rml:iterator "$".
              </pre>
            </div>
            <div id="tab1-3">
              <pre id="example-ds1-sg" class="example" title="one data source">
                #########
                # Query #
                #########

                SOURCE &lt;http://example.org/document#0> AS ?source

                ######################
                # Configuration file #
                ######################

                {
                  "documentset": [
                    {
                      "uri": "http://example.org/document#0",
                      "mediatype": "text/plain",
                      "path": "data/person.json"
                    }
                  ]
                }
              </pre>
            </div>
          </div>

          <p>
            A shortcut version of this example looks as follows.
          </p>

            <div id="tabs-2" class="nanotabs">
              <ul>
                <li><a href="#tab2-1" class="selected">YARRRML</a></li>
                <li><a href="#tab2-2">RML</a></li>
                <li><a href="#tab2-3">SPARQL-Generate</a></li>
              </ul>
              <div id="tab2-1">
                <pre id="example-ds1-sc" class="example" title="one data source using shortcuts">
                  sources:
                    person-source: [data/person.json~jsonpath, $]
                </pre>
              </div>
              <div id="tab2-2">
                <pre id="example-ds1-sc-rml" class="example" title="one data source using shortcuts">
                  <#LogicalSource> a rml:LogicalSource;
                    rml:source "data/person.json";
                    rml:referenceFormulation ql:JSONPath;
                    rml:iterator "$".
                </pre>
              </div>
              <div id="tab2-3">
                <pre id="example-ds1-sc-sg" class="example" title="one data source using shortcuts">
                  #########
                  # Query #
                  #########

                  SOURCE &lt;http://example.org/document#0> AS ?source

                  ######################
                  # Configuration file #
                  ######################

                  {
                    "documentset": [
                      {
                        "uri": "http://example.org/document#0",
                        "mediatype": "text/plain",
                        "path": "data/person.json"
                      }
                    ]
                  }
                </pre>
              </div>
            </div>

          <p>
            The collection is replaced with an array where
            the first element contains the value for <code>access</code> appended with the <code>~</code> and the value for <code>referenceFormulation</code>, and
            the second element contains the iterator.

          </p>

          <p>
          The following mapping access a SQL database and select the required data via a query.
          </p>

          <div id="tabs-3" class="nanotabs">
            <ul>
              <li><a href="#tab3-1" class="selected">YARRRML</a></li>
              <li><a href="#tab3-2">RML</a></li>
              <li><a href="#tab3-3">SPARQL-Generate</a></li>
            </ul>
            <div id="tab3-1">
                <pre id="example-db-yarrrrml" class="example" title="mapping with database as source">
                  mapping:
                    person:
                      sources:
                        access: http://localhost/example
                        type: mysql
                        credentials:
                          username: root
                          password: root
                        queryFormulation: sql2008
                        query: |
                          SELECT DEPTNO, DNAME, LOC,
                          (SELECT COUNT(*) FROM EMP WHERE EMP.DEPTNO=DEPT.DEPTNO) AS STAFF
                          FROM DEPT;
                        referenceFormulation: csv
                </pre>
            </div>
            <div id="tab3-2">
                <pre id="example-db-rml" class="example" title="mapping with database as source">
                  <#TriplesMap> a rr:TriplesMap;

                    rml:logicalSource [
                      a rml:LogicalSource;
                      rml:source <#DataSource>;
                      rr:sqlVersion rr:SQL2008;
                      rml:query "SELECT DEPTNO, DNAME, LOC,
                            (SELECT COUNT(*) FROM EMP WHERE EMP.DEPTNO=DEPT.DEPTNO) AS STAFF
                            FROM DEPT;";
                      rml:referenceFormulation ql:CSV
                    ].

                  <#DataSource> a d2rq:Database;
                    d2rq:jdbcDSN "jdbc:mysql://localhost/example";
                    d2rq:jdbcDriver "com.mysql.jdbc.Driver";
                    d2rq:username "root";
                    d2rq:password "root" .
                </pre>
            </div>
            <div id="tab3-3">
                <pre id="example-db-sg" class="example" title="mapping with database as source">
                TODO
                </pre>
            </div>
          </div>
        </section>
    </section>

    <section>
      <h2>Mappings</h2>

        <p>
          The <code>mappings</code> collection contains all the mappings of the document.
          Each mapping is added to this collection via key-value pair.
          The key is unique for each mapping.
          The value is collection containing rules to generate the subjects, predicates, and objects.

          In the following example two mappings are defined: <code>person</code> and <code>project</code>.
        </p>

        <pre id="example-mappings" class="example" title="two mappings">

        </pre>

        <div id="tabs-4" class="nanotabs">
          <ul>
            <li><a href="#tab4-1" class="selected">YARRRML</a></li>
            <li><a href="#tab4-2">RML</a></li>
            <li><a href="#tab4-3">SPARQL-Generate</a></li>
          </ul>
          <div id="tab4-1">
            <pre id="example-mappings-yarrrrml" class="example" title="two mappings">
              mappings:
                person: ...
                project: ...
            </pre>
          </div>
          <div id="tab4-2">
            <pre id="example-mappings-rml" class="example" title="two mappings">
              <#TriplesMap> a rr:TriplesMap. #person
              <#TriplesMap2> a rr:TriplesMap. #project
            </pre>
          </div>
          <div id="tab4-3">
            <pre id="example-mappings-sg" class="example" title="two mappings">
            GENERATE {}
            WHERE {}
            </pre>
          </div>
        </div>

      <section>
        <h2>Data sources</h2>

        <p>
          Besides defining data sources at the root of the document,
          data sources can also be defined inside a mapping via the collection <code>sources</code>.
          However, no unique key is specified for a source, and, thus, it cannot be referred to from other mappings.
          The key-value to add to a source are the same when defining sources at the root of the document.

          In the following example the mapping <code>person</code> has one source.
        </p>

        <div id="tabs-5" class="nanotabs">
          <ul>
            <li><a href="#tab5-1" class="selected">YARRRML</a></li>
            <li><a href="#tab5-2">RML</a></li>
            <li><a href="#tab5-3">SPARQL-Generate</a></li>
          </ul>
          <div id="tab5-1">
            <pre id="example-ds-yarrrml" class="example" title="mapping with one data source">
            mapping:
              person:
                sources:
                  access: data/person.json
                  referenceFormulation: jsonpath
                  iterator: $
            </pre>
          </div>
          <div id="tab5-2">
            <pre id="example-ds-rml" class="example" title="mapping with one data source">
              <#TriplesMap> a rr:TriplesMap; #person

                rml:logicalSource [
                  a rml:LogicalSource;
                  rml:source "data/person.json";
                  rml:referenceFormulation ql:JSONPath;
                  rml:iterator "$".
                ].
            </pre>
          </div>
          <div id="tab5-3">
            <pre id="example-ds-sg" class="example" title="mapping with one data source">
              #########
              # Query #
              #########

              GENERATE {}
              SOURCE &lt;http://example.org/document#0> AS ?source
              WHERE {}

              ######################
              # Configuration file #
              ######################

              {
                "documentset": [
                  {
                    "uri": "http://example.org/document#0",
                    "mediatype": "text/plain",
                    "path": "data/person.json"
                  }
                ]
              }
            </pre>
          </div>
        </div>

          A shortcut version of this example looks as follows.

        <div id="tabs-6" class="nanotabs">
          <ul>
            <li><a href="#tab6-1" class="selected">YARRRML</a></li>
            <li><a href="#tab6-2">RML</a></li>
            <li><a href="#tab6-3">SPARQL-Generate</a></li>
          </ul>
          <div id="tab6-1">
            <pre id="example-ds-sc-yarrrml" class="example" title="mapping with one data source using shortcuts">
            mapping:
              person:
                sources: [data/person.json~jsonpath, $]
          </pre>
          </div>
          <div id="tab6-2">
            <pre id="example-ds-sc-rml" class="example" title="mapping with one data source using shortcuts">
              <#TriplesMap> a rr:TriplesMap; #person

                rml:logicalSource [
                  a rml:LogicalSource;
                  rml:source "data/person.json";
                  rml:referenceFormulation ql:JSONPath;
                  rml:iterator "$".
                ].
            </pre>
          </div>
          <div id="tab6-3">
            <pre id="example-ds-sc-sg" class="example" title="mapping with one data source using shortcuts">
              #########
              # Query #
              #########

              GENERATE {}
              SOURCE &lt;http://example.org/document#0> AS ?source
              WHERE {}

              ######################
              # Configuration file #
              ######################

              {
                "documentset": [
                  {
                    "uri": "http://example.org/document#0",
                    "mediatype": "text/plain",
                    "path": "data/person.json"
                  }
                ]
              }
            </pre>
          </div>
        </div>

          In case a mapping needs to be applied to multiple data sources, multiple sources can be added to the <code>scources</code> collection.
          In the following example the <code>person</code> mapping has two data sources.

        <div id="tabs-7" class="nanotabs">
          <ul>
            <li><a href="#tab7-1" class="selected">YARRRML</a></li>
            <li><a href="#tab7-2">RML</a></li>
            <li><a href="#tab7-3">SPARQL-Generate</a></li>
          </ul>
          <div id="tab7-1">
            <pre id="example-ds2-yarrrml" class="nohighlight example" title="mapping with two data sources">
              mapping:
                person:
                  sources:
                    - access: data/person.json
                      referenceFormulation: jsonpath
                      iterator: $
                    - access: data/person2.json
                      referenceFormulation: jsonpath
                      iterator: "$.persons[*]"
            </pre>
          </div>
          <div id="tab7-2">
            <pre id="example-ds2-rml" class="example" title="mapping with two data sources">
              <#TriplesMap> a rr:TriplesMap; #person, first source

                rml:logicalSource [
                  a rml:LogicalSource;
                  rml:source "data/person.json";
                  rml:referenceFormulation ql:JSONPath;
                  rml:iterator "$".
                ].

              <#TriplesMap2> a rr:TriplesMap; #person, second source

                rml:logicalSource [
                  a rml:LogicalSource;
                  rml:source "data/person2.json";
                  rml:referenceFormulation ql:JSONPath;
                  rml:iterator "$.persons[*]".
                ].
            </pre>
          </div>
          <div id="tab7-3">
            <pre id="example-ds2-sg" class="example" title="mapping with two data sources">
              ###########
              # Query 1 #
              ###########

              GENERATE {}
              SOURCE &lt;http://example.org/document#0> AS ?source
              WHERE {}

              ###########
              # Query 2 #
              ###########

              GENERATE {}
              SOURCE &lt;http://example.org/document#1> AS ?source
              WHERE {}

              ######################
              # Configuration file #
              ######################

              {
                "documentset": [
                  {
                    "uri": "http://example.org/document#0",
                    "mediatype": "text/plain",
                    "path": "data/person.json"
                  },
                  {
                    "uri": "http://example.org/document#1",
                    "mediatype": "text/plain",
                    "path": "data/person2.json"
                  }
                ]
              }
            </pre>
          </div>
        </div>

          A shortcut version of this example looks as follows.

        <div id="tabs-8" class="nanotabs">
          <ul>
            <li><a href="#tab8-1" class="selected">YARRRML</a></li>
            <li><a href="#tab8-2">RML</a></li>
            <li><a href="#tab8-3">SPARQL-Generate</a></li>
          </ul>
          <div id="tab8-1">
            <pre id="example-ds2-sc-yarrrml" class="nohighlight example" title="mapping with two data sources using shortcuts">
              mapping:
                person:
                  sources:
                    - [data/person.json~jsonpath, $]
                    - [data/person2.json~jsonpath, "$.persons[*]"]
            </pre>
          </div>
          <div id="tab8-2">
            <pre id="example-ds2-sc-rml" class="example" title="mapping with two data sources using shortcuts">
              <#TriplesMap> a rr:TriplesMap; #person, first source

                rml:logicalSource [
                  a rml:LogicalSource;
                  rml:source "data/person.json";
                  rml:referenceFormulation ql:JSONPath;
                  rml:iterator "$".
                ].

              <#TriplesMap2> a rr:TriplesMap; #person, second source

                rml:logicalSource [
                  a rml:LogicalSource;
                  rml:source "data/person2.json";
                  rml:referenceFormulation ql:JSONPath;
                  rml:iterator "$.persons[*]".
                ].
            </pre>
          </div>
          <div id="tab8-3">
            <pre id="example-ds2-sc-sg" class="example" title="mapping with two data sources using shortcuts">
              ###########
              # Query 1 #
              ###########

              GENERATE {}
              SOURCE &lt;http://example.org/document#0> AS ?source
              WHERE {}

              ###########
              # Query 2 #
              ###########

              GENERATE {}
              SOURCE &lt;http://example.org/document#1> AS ?source
              WHERE {}

              ######################
              # Configuration file #
              ######################

              {
                "documentset": [
                  {
                    "uri": "http://example.org/document#0",
                    "mediatype": "text/plain",
                    "path": "data/person.json"
                  },
                  {
                    "uri": "http://example.org/document#1",
                    "mediatype": "text/plain",
                    "path": "data/person2.json"
                  }
                ]
              }
            </pre>
          </div>
        </div>

          If you describe a data source outside of the mappings, you can include via their unique key.

        <div id="tabs-9" class="nanotabs">
          <ul>
            <li><a href="#tab9-1" class="selected">YARRRML</a></li>
            <li><a href="#tab9-2">RML</a></li>
            <li><a href="#tab9-3">SPARQL-Generate</a></li>
          </ul>
          <div id="tab9-1">
            <pre id="example-ds3-yarrrml" class="nohighlight example" title="mapping with one data sources">
              sources:
                person-source:
                  access: data/person.json
                  referenceFormulation: jsonpath
                  iterator: $

              mapping:
                person:
                  sources: person-source
            </pre>
          </div>
          <div id="tab9-2">
            <pre id="example-ds3-rml" class="example" title="mapping with one data sources">
              <#TriplesMap> a rr:TriplesMap; #person

                rml:logicalSource [
                  a rml:LogicalSource;
                  rml:source "data/person.json";
                  rml:referenceFormulation ql:JSONPath;
                  rml:iterator "$".
                ].
            </pre>
          </div>
          <div id="tab9-3">
            <pre id="example-ds3-sg" class="example" title="mapping with one data sources">
              #########
              # Query #
              #########

              GENERATE {}
              SOURCE &lt;http://example.org/document#0> AS ?source
              WHERE {}

              ######################
              # Configuration file #
              ######################

              {
                "documentset": [
                  {
                    "uri": "http://example.org/document#0",
                    "mediatype": "text/plain",
                    "path": "data/person.json"
                  }
                ]
              }
            </pre>
          </div>
        </div>

          Multiple sources can be used by using an array of source keys as value for the key <code>sources</code>.

        <div id="tabs-10" class="nanotabs">
          <ul>
            <li><a href="#tab10-1" class="selected">YARRRML</a></li>
            <li><a href="#tab10-2">RML</a></li>
            <li><a href="#tab10-3">SPARQL-Generate</a></li>
          </ul>
          <div id="tab10-1">
            <pre id="example-ds4" class="example" title="mapping with two data sources">
              sources:
                person-source:
                  access: data/person.json
                  referenceFormulation: jsonpath
                  iterator: $
                person-source2:
                  access: data/person2.json
                  referenceFormulation: jsonpath
                  iterator: "$.person[*]"

              mapping:
                person:
                  sources:
                    - [person-source, person-source2]
            </pre>
          </div>
          <div id="tab10-2">
            <pre id="example-ds4-rml" class="example" title="mapping with two data sources">
              <#TriplesMap> a rr:TriplesMap; #person, first source

                rml:logicalSource [
                  a rml:LogicalSource;
                  rml:source "data/person.json";
                  rml:referenceFormulation ql:JSONPath;
                  rml:iterator "$".
                ].

              <#TriplesMap2> a rr:TriplesMap; #person, second source

                rml:logicalSource [
                  a rml:LogicalSource;
                  rml:source "data/person2.json";
                  rml:referenceFormulation ql:JSONPath;
                  rml:iterator "$.persons[*]".
                ].
            </pre>
          </div>
          <div id="tab10-3">
            <pre id="example-ds4-sg" class="example" title="mapping with two data sources">
              ###########
              # Query 1 #
              ###########

              GENERATE {}
              SOURCE &lt;http://example.org/document#0> AS ?source
              WHERE {}

              ###########
              # Query 2 #
              ###########

              GENERATE {}
              SOURCE &lt;http://example.org/document#1> AS ?source
              WHERE {}

              ######################
              # Configuration file #
              ######################

              {
                "documentset": [
                  {
                    "uri": "http://example.org/document#0",
                    "mediatype": "text/plain",
                    "path": "data/person.json"
                  },
                  {
                    "uri": "http://example.org/document#1",
                    "mediatype": "text/plain",
                    "path": "data/person2.json"
                  }
                ]
              }
            </pre>
          </div>
        </div>

          A combination of both sources defined outside and inside a mapping is possible.

        <div id="tabs-11" class="nanotabs">
          <ul>
            <li><a href="#tab11-1" class="selected">YARRRML</a></li>
            <li><a href="#tab11-2">RML</a></li>
            <li><a href="#tab11-3">SPARQL-Generate</a></li>
          </ul>
          <div id="tab11-1">
            <pre id="example-ds5" class="example" title="mapping with two data sources">
              sources:
                person-source:
                  access: data/person.json
                  referenceFormulation: jsonpath
                  iterator: $

              mapping:
                person:
                  sources:
                   - person-source
                   - access: data/person2.json
                     referenceFormulation: jsonpath
                     iterator: "$.persons[*]"
            </pre>
          </div>
          <div id="tab11-2">
            <pre id="example-ds5-rml" class="example" title="mapping with two data sources">
              <#TriplesMap> a rr:TriplesMap; #person, first source

                rml:logicalSource [
                  a rml:LogicalSource;
                  rml:source "data/person.json";
                  rml:referenceFormulation ql:JSONPath;
                  rml:iterator "$".
                ].

              <#TriplesMap2> a rr:TriplesMap; #person, second source

                rml:logicalSource [
                  a rml:LogicalSource;
                  rml:source "data/person2.json";
                  rml:referenceFormulation ql:JSONPath;
                  rml:iterator "$.persons[*]".
                ].
            </pre>
          </div>
          <div id="tab11-3">
            <pre id="example-ds5-sg" class="example" title="mapping with two data sources">
              ###########
              # Query 1 #
              ###########

              GENERATE {}
              SOURCE &lt;http://example.org/document#0> AS ?source
              WHERE {}

              ###########
              # Query 2 #
              ###########

              GENERATE {}
              SOURCE &lt;http://example.org/document#1> AS ?source
              WHERE {}

              ######################
              # Configuration file #
              ######################

              {
                "documentset": [
                  {
                    "uri": "http://example.org/document#0",
                    "mediatype": "text/plain",
                    "path": "data/person.json"
                  },
                  {
                    "uri": "http://example.org/document#1",
                    "mediatype": "text/plain",
                    "path": "data/person2.json"
                  }
                ]
              }
            </pre>
          </div>
        </div>

      </section>

      <section>
        <h2>Subjects</h2>

        <p>
          For every triple is required to define whether a IRI or blank node needs to used.
          This information is added to a mapping via the collection <code>subjects</code>.
          In the case of an IRI , this collection contains 0 or more templates that specify the IRI.
          In the case of a blank node, this collection is set to <code>null</code> or is not specified at all.

          In the following example the mapping <code>person</code> generate IRI for the subjects based on the template <code>http://wwww.example.com/person/$(id)</code>.
        </p>

        <div id="tabs-12" class="nanotabs">
          <ul>
            <li><a href="#tab12-1" class="selected">YARRRML</a></li>
            <li><a href="#tab12-2">RML</a></li>
            <li><a href="#tab12-3">SPARQL-Generate</a></li>
          </ul>
          <div id="tab12-1">
            <pre id="example-subject" class="nohighlight example" title="mapping with one subject">
              mappings:
                person:
                  subjects: http://wwww.example.com/person/$(id)
            </pre>
          </div>
          <div id="tab12-2">
            <pre id="example-subject-rml" class="example" title="mapping with one subject">
              <#TriplesMap> a rr:TriplesMap; #person

                rr:subjectMap [
                  a rr:SubjectMap;
                  rr:template "http://wwww.example.com/person/{id}"
                ].
            </pre>
          </div>
          <div id="tab12-3">
            <pre id="example-subject-sg" class="example" title="mapping with one subject">
              GENERATE {
                &lt;http://wwww.example.com/person/{?id}>
              }
              WHERE {
                BIND(fun:JSONPath(?source,"$.id") AS ?id)
              }
            </pre>
          </div>
        </div>

          It is also possible to specify multiple subjects.
          In this case an array of templates is used.
          In the following example the mapping <code>person</code> generate subjects based on the templates <code>http://wwww.example.com/person/$(id)</code>
          and <code>http://www.test.com/$(firstname)</code>.

        <div id="tabs-13" class="nanotabs">
          <ul>
            <li><a href="#tab13-1" class="selected">YARRRML</a></li>
            <li><a href="#tab13-2">RML</a></li>
            <li><a href="#tab13-3">SPARQL-Generate</a></li>
          </ul>
          <div id="tab13-1">
            <pre id="example-subject2" class="example" title="mapping with two subjects">
              mappings:
                person:
                  subjects: [http://wwww.example.com/person/$(id), http://www.test.com/$(firstname)]
            </pre>
          </div>
          <div id="tab13-2">
            <pre id="example-subject2-rml" class="example" title="mapping with two subject">
              <#TriplesMap> a rr:TriplesMap; #person, first subject

                rr:subjectMap [
                  a rr:SubjectMap;
                  rr:template "http://wwww.example.com/person/{id}"
                ].

              <#TriplesMap2> a rr:TriplesMap; #person, second subject

                rr:subjectMap [
                  a rr:SubjectMap;
                  rr:template "http://www.test.com/{firstname}"
                ].
            </pre>
          </div>
          <div id="tab13-3">
            <pre id="example-subject2-sg" class="example" title="mapping with two subject">
              GENERATE {
                &lt;http://wwww.example.com/person/{?id}>.
                &lt;http://www.test.com/{firstname}>.
              }
              WHERE {
                BIND(fun:JSONPath(?source,"$.id") AS ?id)
                BIND(fun:JSONPath(?source,"$.firstname") AS ?firstname)
              }
            </pre>
          </div>
        </div>

          It is possible to apply functions on subjects.
      </section>

      <section>
        <h2>Predicates and objects</h2>

        In the following example the mapping <code>person</code> generates combinations of predicates and objects,
        where the predicate is <code>foaf:firstName</code> and the object is the <code>firstname</code> of each person.

        <div id="tabs-14" class="nanotabs">
          <ul>
            <li><a href="#tab14-1" class="selected">YARRRML</a></li>
            <li><a href="#tab14-2">RML</a></li>
            <li><a href="#tab14-3">SPARQL-Generate</a></li>
          </ul>
          <div id="tab14-1">
            <pre id="example-po" class="example" title="mapping with one predicate and object">
              mappings:
                person:
                  predicateobjects:
                    - predicates: foaf:firstName
                      objects: $(firstname)
            </pre>
          </div>
          <div id="tab14-2">
            <pre id="example-po-rml" class="example" title="mapping with one predicate and object">
              <#TriplesMap> a rr:TriplesMap; #person

                rr:predicateObjectMap [
                  a rr:PredicateObjectMap;
                  rr:predicate foaf:firstName;
                  rr:objectMap [
                    a rr:ObjectMap;
                    rml:reference "firstname"
                  ]
                ].
            </pre>
          </div>
          <div id="tab14-3">
            <pre id="example-po-sg" class="example" title="mapping with one predicate and object">
              GENERATE {
                foaf:firstName ?firstname;
              }
              WHERE {
                BIND(fun:JSONPath(?source,"$.firstname") AS ?firstname)
              }
            </pre>
          </div>
        </div>

        A shortcut version of this example looks as follows.

        <div id="tabs-15" class="nanotabs">
          <ul>
            <li><a href="#tab15-1" class="selected">YARRRML</a></li>
            <li><a href="#tab15-2">RML</a></li>
            <li><a href="#tab15-3">SPARQL-Generate</a></li>
          </ul>
          <div id="tab15-1">
            <pre id="example-po-sc" class="example" title="mapping with one predicate and object using shortcuts">
              mappings:
                person:
                  predicateobjects:
                    - [foaf:firstName, $(firstname)]
            </pre>
          </div>
          <div id="tab15-2">
            <pre id="example-po-sc-rml" class="example" title="mapping with one predicate and object using shortcuts">
              <#TriplesMap> a rr:TriplesMap; #person

                rr:predicateObjectMap [
                  a rr:PredicateObjectMap;
                  rr:predicate foaf:firstName;
                  rr:objectMap [
                    a rr:ObjectMap;
                    rml:reference "firstname"
                  ]
                ].
            </pre>
          </div>
          <div id="tab15-3">
            <pre id="example-po-sc-sg" class="example" title="mapping with one predicate and object using shortcuts">
              GENERATE {
                foaf:firstName ?firstname;
              }
              WHERE {
                BIND(fun:JSONPath(?source,"$.firstname") AS ?firstname)
              }
            </pre>
          </div>
        </div>

        It is possible to specify multiple predicates and objects.
        In this case an array of templates is used.

        <div id="tabs-16" class="nanotabs">
          <ul>
            <li><a href="#tab16-1" class="selected">YARRRML</a></li>
            <li><a href="#tab16-2">RML</a></li>
            <li><a href="#tab16-3">SPARQL-Generate</a></li>
          </ul>
          <div id="tab16-1">
            <pre id="example-po2" class="example" title="mapping with two predicates and objects">
              mappings:
                person:
                  predicateobjects:
                    - predicates: [foaf:name, rdfs:label]
                      objects: [$(firstname), $(lastname)]
            </pre>
          </div>
          <div id="tab16-2">
            <pre id="example-po2-rml" class="example" title="mapping with two predicates and objects">
              <#TriplesMap> a rr:TriplesMap; #person

                rr:predicateObjectMap [
                  a rr:PredicateObjectMap;
                  rr:predicate foaf:name;
                  rr:predicate rdfs:label;
                  rr:objectMap [
                    a rr:ObjectMap;
                    rml:reference "firstname"
                  ];
                  rr:objectMap [
                    a rr:ObjectMap;
                    rml:reference "lastname"
                  ]
                ].
            </pre>
          </div>
          <div id="tab16-3">
            <pre id="example-po2-sg" class="example" title="mapping with two predicates and objects">
              GENERATE {
                foaf:name ?firstname;
                foaf:name ?lastname;
                rdfs:label ?firstname;
                rdfs:label ?lastname;
              }
              WHERE {
                BIND(fun:JSONPath(?source,"$.firstname") AS ?firstname)
                BIND(fun:JSONPath(?source,"$.lastname") AS ?lastname)
              }
            </pre>
          </div>
        </div>

        A shortcut version of this example looks as follows.

        <div id="tabs-17" class="nanotabs">
          <ul>
            <li><a href="#tab17-1" class="selected">YARRRML</a></li>
            <li><a href="#tab17-2">RML</a></li>
            <li><a href="#tab17-3">SPARQL-Generate</a></li>
          </ul>
          <div id="tab17-1">
            <pre id="example-po2-sc" class="example" title="mapping with two predicates and objects using shortcuts">
              mappings:
                person:
                  predicateobjects:
                    - [[foaf:name, rdfs:label], [$(firstname), $(lastname)]]
            </pre>
          </div>
          <div id="tab17-2">
            <pre id="example-po2-sc-rml" class="example" title="mapping with two predicates and objects using shortcuts">
              <#TriplesMap> a rr:TriplesMap; #person

                rr:predicateObjectMap [
                  a rr:PredicateObjectMap;
                  rr:predicate foaf:name;
                  rr:predicate rdfs:label;
                  rr:objectMap [
                    a rr:ObjectMap;
                    rml:reference "firstname"
                  ];
                  rr:objectMap [
                    a rr:ObjectMap;
                    rml:reference "lastname"
                  ]
                ].
            </pre>
          </div>
          <div id="tab17-3">
            <pre id="example-po2-sc-sg" class="example" title="mapping with two predicates and objects using shortcuts">
              GENERATE {
                foaf:name ?firstname;
                foaf:name ?lastname;
                rdfs:label ?firstname;
                rdfs:label ?lastname;
              }
              WHERE {
                BIND(fun:JSONPath(?source,"$.firstname") AS ?firstname)
                BIND(fun:JSONPath(?source,"$.lastname") AS ?lastname)
              }
            </pre>
          </div>
        </div>

        <div id="tabs-18" class="nanotabs">
          <ul>
            <li><a href="#tab18-1" class="selected">YARRRML</a></li>
            <li><a href="#tab18-2">RML</a></li>
            <li><a href="#tab18-3">SPARQL-Generate</a></li>
          </ul>
          <div id="tab18-1">
            <pre id="example-po3" class="example" title="mapping with object that generates an IRI">
              mappings:
                person:
                  predicateobjects:
                    - predicates: foaf:knows
                      objects:
                        value: $(colleague)
                        type: iri
            </pre>
          </div>
          <div id="tab18-2">
            <pre id="example-po3-rml" class="example" title="mapping with object that generates an IRI">
              <#TriplesMap> a rr:TriplesMap; #person

                rr:predicateObjectMap [
                  a rr:PredicateObjectMap;
                  rr:predicate foaf:knows;
                  rr:objectMap [
                    a rr:ObjectMap;
                    rml:reference "colleague";
                    rr:TermType rr:IRI
                  ]
                ].
            </pre>
          </div>
          <div id="tab18-3">
            <pre id="example-po3-sg" class="example" title="mapping with object that generates an IRI">
              GENERATE {
                foaf:knows &lt;?colleague>;
              }
              WHERE {
                BIND(fun:JSONPath(?source,"$.colleague") AS ?colleague)
              }
            </pre>
          </div>
        </div>

        A shortcut version of this example looks as follows.

        <div id="tabs-19" class="nanotabs">
          <ul>
            <li><a href="#tab19-1" class="selected">YARRRML</a></li>
            <li><a href="#tab19-2">RML</a></li>
            <li><a href="#tab19-3">SPARQL-Generate</a></li>
          </ul>
          <div id="tab19-1">
            <pre id="example-po3-sc" class="example" title="mapping with object that generates an IRI using shortcuts">
              mappings:
                person:
                  predicateobjects:
                    - [[foaf:name, rdfs:label], $(colleague)~iri]
            </pre>
          </div>
          <div id="tab19-2">
            <pre id="example-po3-sc-rml" class="example" title="mapping with object that generates an IRI using shortcuts">
              <#TriplesMap> a rr:TriplesMap; #person

                rr:predicateObjectMap [
                  a rr:PredicateObjectMap;
                  rr:predicate foaf:knows;
                  rr:objectMap [
                    a rr:ObjectMap;
                    rml:reference "colleague";
                    rr:TermType rr:IRI
                  ]
                ].
            </pre>
          </div>
          <div id="tab19-3">
            <pre id="example-po3-sc-sg" class="example" title="mapping with object that generates an IRI using shortcuts">
              GENERATE {
                foaf:knows &lt;?colleague>;
              }
              WHERE {
                BIND(fun:JSONPath(?source,"$.colleague") AS ?colleague)
              }
            </pre>
          </div>
        </div>

        The inverse predicate can also be added.
        This is only valid when the object is an IRI or a blank node.

        <pre id="example-po-inverse" class="example" title="mapping with one inverse predicate">
          mappings:
            work:
              predicateobjects:
                - predicates: ex:createdBy
                  inversepredicates: ex:created
                  objects: $(foafprofile)
                  type: iri
        </pre>
      </section>

      <section>
        <h2>Datatypes</h2>

        <div id="tabs-20" class="nanotabs">
          <ul>
            <li><a href="#tab20-1" class="selected">YARRRML</a></li>
            <li><a href="#tab20-2">RML</a></li>
            <li><a href="#tab20-3">SPARQL-Generate</a></li>
          </ul>
          <div id="tab20-1">
            <pre id="example-datatype" class="example" title="mapping with one datatype">
              mappings:
                person:
                  predicateobjects:
                    - predicates: foaf:firstName
                      objects:
                        value: $(firstname)
                        datatype: xsd:string
            </pre>
          </div>
          <div id="tab20-2">
            <pre id="example-datatype-rml" class="example" title="mapping with one datatype">
              <#TriplesMap> a rr:TriplesMap; #person

                rr:predicateObjectMap [
                  a rr:PredicateObjectMap;
                  rr:predicate foaf:firstName;
                  rr:objectMap [
                    a rr:ObjectMap;
                    rml:reference "firstname";
                    rr:datatype xsd:string
                  ]
                ].
            </pre>
          </div>
          <div id="tab20-3">
            <pre id="example-datatype-sg" class="example" title="mapping with one datatype">
              GENERATE {
                foaf:firstName "{firstname}"^^xsd:string;
              }
              WHERE {
                BIND(fun:JSONPath(?source,"$.firstname") AS ?firstname)
              }
            </pre>
          </div>
        </div>

        A shortcut version of this example looks as follows.

        <div id="tabs-21" class="nanotabs">
          <ul>
            <li><a href="#tab21-1" class="selected">YARRRML</a></li>
            <li><a href="#tab21-2">RML</a></li>
            <li><a href="#tab21-3">SPARQL-Generate</a></li>
          </ul>
          <div id="tab21-1">
            <pre id="example-datatype-sc" class="example" title="mapping with one datatype using shortcuts">
              mappings:
                person:
                  predicateobjects:
                    - [foaf:firstName, $(firstname), xsd:string]
            </pre>
          </div>
          <div id="tab21-2">
            <pre id="example-datatype-sc-rml" class="example" title="mapping with one datatype using shortcuts">
              <#TriplesMap> a rr:TriplesMap; #person

                rr:predicateObjectMap [
                  a rr:PredicateObjectMap;
                  rr:predicate foaf:firstName;
                  rr:objectMap [
                    a rr:ObjectMap;
                    rml:reference "firstname";
                    rr:datatype xsd:string
                  ]
                ].
            </pre>
          </div>
          <div id="tab21-3">
            <pre id="example-datatype-sc-sg" class="example" title="mapping with one datatype using shortcuts">
              GENERATE {
                foaf:firstName "{firstname}"^^xsd:string;
              }
              WHERE {
                BIND(fun:JSONPath(?source,"$.firstname") AS ?firstname)
              }
            </pre>
          </div>
        </div>

        <div id="tabs-22" class="nanotabs">
          <ul>
            <li><a href="#tab22-1" class="selected">YARRRML</a></li>
            <li><a href="#tab22-2">RML</a></li>
            <li><a href="#tab22-3">SPARQL-Generate</a></li>
          </ul>
          <div id="tab22-1">
            <pre id="example-datatype2" class="example" title="mapping with two datatypes">
              mappings:
                person:
                  predicateobjects:
                    - predicates: foaf:name
                      objects:
                        - value: $(firstname)
                          datatype: ex:string
                        - value: $(lastname)
                          datatype: ex:anotherString
            </pre>
          </div>
          <div id="tab22-2">
            <pre id="example-datatype2-rml" class="example" title="mapping with two datatypes">
              <#TriplesMap> a rr:TriplesMap; #person

                rr:predicateObjectMap [
                  a rr:PredicateObjectMap;
                  rr:predicate foaf:name;
                  rr:objectMap [
                    a rr:ObjectMap;
                    rml:reference "firstname";
                    rr:datatype ex:string
                  ];
                  rr:objectMap [
                    a rr:ObjectMap;
                    rml:reference "lastname";
                    rr:datatype ex:anotherString
                  ]
                ].
            </pre>
          </div>
          <div id="tab22-3">
            <pre id="example-datatype2-sg" class="example" title="mapping with two datatypes">
              GENERATE {
                foaf:name "{firstname}"^^ex:string;
                foaf:name "{lastname}"^^ex:anotherString
              }
              WHERE {
                BIND(fun:JSONPath(?source,"$.firstname") AS ?firstname)
                BIND(fun:JSONPath(?source,"$.lastname") AS ?lastname)
              }
            </pre>
          </div>
        </div>

        A shortcut version of this example looks as follows.

        <div id="tabs-23" class="nanotabs">
          <ul>
            <li><a href="#tab23-1" class="selected">YARRRML</a></li>
            <li><a href="#tab23-2">RML</a></li>
            <li><a href="#tab23-3">SPARQL-Generate</a></li>
          </ul>
          <div id="tab23-1">
             <pre id="example-datatype2-sc" class="example" title="mapping with two datatypes using shortcuts">
              mappings:
                person:
                  predicateobjects:
                    - predicates: [foaf:name, rdfs:label]
                      objects: [[$(firstname), ex:string], [$(lastname), ex:anotherString]]
            </pre>
          </div>
          <div id="tab23-2">
            <pre id="example-datatype2-sc-rml" class="example" title="mapping with two datatypes using shortcuts">
              <#TriplesMap> a rr:TriplesMap; #person

                rr:predicateObjectMap [
                  a rr:PredicateObjectMap;
                  rr:predicate foaf:name;
                  rr:objectMap [
                    a rr:ObjectMap;
                    rml:reference "firstname";
                    rr:datatype ex:string
                  ];
                  rr:objectMap [
                    a rr:ObjectMap;
                    rml:reference "lastname";
                    rr:datatype ex:anotherString
                  ]
                ].
            </pre>
          </div>
          <div id="tab23-3">
            <pre id="example-datatype2-sc-sg" class="example" title="mapping with two datatypes using shortcuts">
              GENERATE {
                foaf:name "{firstname}"^^ex:string;
                foaf:name "{lastname}"^^ex:anotherString
              }
              WHERE {
                BIND(fun:JSONPath(?source,"$.firstname") AS ?firstname)
                BIND(fun:JSONPath(?source,"$.lastname") AS ?lastname)
              }
            </pre>
          </div>
        </div>
      </section>

      <section>
        <h2>Languages</h2>

        <div id="tabs-24" class="nanotabs">
          <ul>
            <li><a href="#tab24-1" class="selected">YARRRML</a></li>
            <li><a href="#tab24-2">RML</a></li>
            <li><a href="#tab24-3">SPARQL-Generate</a></li>
          </ul>
          <div id="tab24-1">
             <pre id="example-lang" class="example" title="mapping with one language">
                mappings:
                  person:
                    predicateobjects:
                      - predicates: foaf:firstName
                        objects:
                          value: $(firstname)
                          language: en
              </pre>
          </div>
          <div id="tab24-2">
            <pre id="example-lang-rml" class="example" title="mapping with one language">
              <#TriplesMap> a rr:TriplesMap; #person

                rr:predicateObjectMap [
                  a rr:PredicateObjectMap;
                  rr:predicate foaf:firstName;
                  rr:objectMap [
                    a rr:ObjectMap;
                    rml:reference "firstname";
                    rr:language "en"
                  ]
                ].
            </pre>
          </div>
          <div id="tab24-3">
            <pre id="example-lang-sg" class="example" title="mapping with one language">
              GENERATE {
                foaf:firstName "{firstname}"@en;
              }
              WHERE {
                BIND(fun:JSONPath(?source,"$.firstname") AS ?firstname)
              }
            </pre>
          </div>
        </div>

        A shortcut version of this example looks as follows.

        <div id="tabs-25" class="nanotabs">
          <ul>
            <li><a href="#tab25-1" class="selected">YARRRML</a></li>
            <li><a href="#tab25-2">RML</a></li>
            <li><a href="#tab25-3">SPARQL-Generate</a></li>
          </ul>
          <div id="tab25-1">
            <pre id="example-lang-sc" class="example" title="mapping with one language using shortcuts">
              mappings:
                person:
                  predicateobjects:
                    - [foaf:firstName, $(firstname), en~lang]
            </pre>
          </div>
          <div id="tab25-2">
            <pre id="example-lang-sc-rml" class="example" title="mapping with one language using shortcuts">
              <#TriplesMap> a rr:TriplesMap; #person

                rr:predicateObjectMap [
                  a rr:PredicateObjectMap;
                  rr:predicate foaf:firstName;
                  rr:objectMap [
                    a rr:ObjectMap;
                    rml:reference "firstname";
                    rr:language "en"
                  ]
                ].
            </pre>
          </div>
          <div id="tab25-3">
            <pre id="example-lang-sc-sg" class="example" title="mapping with one language using shortcuts">
              GENERATE {
                foaf:firstName "{firstname}"@en;
              }
              WHERE {
                BIND(fun:JSONPath(?source,"$.firstname") AS ?firstname)
              }
            </pre>
          </div>
        </div>

        <div id="tabs-26" class="nanotabs">
          <ul>
            <li><a href="#tab26-1" class="selected">YARRRML</a></li>
            <li><a href="#tab26-2">RML</a></li>
            <li><a href="#tab26-3">SPARQL-Generate</a></li>
          </ul>
          <div id="tab26-1">
            <pre id="example-lang2" class="example" title="mapping with two languages">
              mappings:
                person:
                  predicateobjects:
                    - predicates: foaf:name
                      objects:
                        - value: $(firstname)
                          language: en
                        - value: $(lastname)
                          language: nl
            </pre>
          </div>
          <div id="tab26-2">
            <pre id="example-lang2-rml" class="example" title="mapping with two languages">
              <#TriplesMap> a rr:TriplesMap; #person

                rr:predicateObjectMap [
                  a rr:PredicateObjectMap;
                  rr:predicate foaf:name;
                  rr:objectMap [
                    a rr:ObjectMap;
                    rml:reference "firstname";
                    rr:language "en"
                  ];
                  rr:objectMap [
                    a rr:ObjectMap;
                    rml:reference "lastname";
                    rr:language "nl"
                  ]
                ].
            </pre>
          </div>
          <div id="tab26-3">
            <pre id="example-lang2-sg" class="example" title="mapping with two languages">
              GENERATE {
                foaf:name "{firstname}"@en;
                foaf:name "{lastname}"@nl;
              }
              WHERE {
                BIND(fun:JSONPath(?source,"$.firstname") AS ?firstname)
                BIND(fun:JSONPath(?source,"$.lastname") AS ?lastname)
              }
            </pre>
          </div>
        </div>

        A shortcut version of this example looks as follows.

        <div id="tabs-27" class="nanotabs">
          <ul>
            <li><a href="#tab27-1" class="selected">YARRRML</a></li>
            <li><a href="#tab27-2">RML</a></li>
            <li><a href="#tab27-3">SPARQL-Generate</a></li>
          </ul>
          <div id="tab27-1">
            <pre id="example-lang2-sc" class="example" title="mapping with two languages using shortcuts">
              mappings:
                person:
                  predicateobjects:
                    - predicates: [foaf:name, rdfs:label]
                      objects: [[$(firstname), en~lang], [$(lastname), nl~lang]]
            </pre>
          </div>
          <div id="tab27-2">
            <pre id="example-lang2-sc-rml" class="example" title="mapping with two languages using shortcuts">
              <#TriplesMap> a rr:TriplesMap; #person

                rr:predicateObjectMap [
                  a rr:PredicateObjectMap;
                  rr:predicate foaf:name;
                  rr:objectMap [
                    a rr:ObjectMap;
                    rml:reference "firstname";
                    rr:language "en"
                  ];
                  rr:objectMap [
                    a rr:ObjectMap;
                    rml:reference "lastname";
                    rr:language "nl"
                  ]
                ].
            </pre>
          </div>
          <div id="tab27-3">
            <pre id="example-lang2-sc-sg" class="example" title="mapping with two languages using shortcuts">
              GENERATE {
                foaf:name "{firstname}"@en;
                foaf:name "{lastname}"@nl;
              }
              WHERE {
                BIND(fun:JSONPath(?source,"$.firstname") AS ?firstname)
                BIND(fun:JSONPath(?source,"$.lastname") AS ?lastname)
              }
            </pre>
          </div>
        </div>
      </section>

      <section>
        <h2>Referring to other mappings</h2>

        <p>
          In certain use cases triples need to be generated between the records of two mappings.
          For example, in the following example we have two mappings: persons and projects.
          In the existing data there is for every person a field <code>projectID</code> referring to the project
          on which the person is working.
          Therefore, we want to generate triples between every person and his/her project.
          The <code>objects</code> collection has an object with the key <code>mapping</code>.
          The value of this key refers to the mapping that provides the IRIs that will serve as object for the predicate-object combination.
          Furthermore, a condition is added, so that only persons and projects are linked when they are actually related, based on the <code>projectID</code>
          of the person and the <code>ID</code> of the project.
          Note that a condition is not required.
          In this example it would result in relationships between every person and every project.
        </p>

        <div id="tabs-28" class="nanotabs">
          <ul>
            <li><a href="#tab28-1" class="selected">YARRRML</a></li>
            <li><a href="#tab28-2">RML</a></li>
            <li><a href="#tab28-3">SPARQL-Generate</a></li>
          </ul>
          <div id="tab28-1">
            <pre id="example-ref-map" class="example" title="interlinking two mappings">
              mappings:
                person:
                  subjects: http://example.com/person/$(ID)
                  predicateobjects:
                    - predicates: foaf:worksFor
                      objects:
                      - mapping: project
                        condition:
                          function: equal
                          parameters:
                            - [str1, $(projectID)]
                            - [str2, $(ID)]
                project:
                  subjects: http://example.com/project/$(ID)
            </pre>
          </div>
          <div id="tab28-2">
            <pre id="example-ref-map-rml" class="example" title="interlinking two mappings">
              <#TriplesMap> a rr:TriplesMap; #person

                rr:subjectMap [
                  a rr:SubjectMap;
                  rr:template "http://example.com/person/{ID}"
                ]

                rr:predicateObjectMap [
                  a rr:PredicateObjectMap;
                  rr:predicate foaf:worksFor;
                  rr:objectMap [
                    a rr:RefObjectMap;
                    rr:parentTriplesMap <#TriplesMap2>;
                    rr:joinCondition [
                      rr:child "projectID";
                      rr:parent "ID"
                    ]
                  ]
                ].

              <#TriplesMap2> a rr:TriplesMap; #person

                rr:subjectMap [
                  a rr:SubjectMap;
                  rr:template "http://example.com/project/{ID}"
                ]
            </pre>
          </div>
          <div id="tab28-3">
            <pre id="example-ref-map-sg" class="example" title="interlinking two mappings">
            TODO
            </pre>
          </div>
        </div>
      </section>
    </section>

    <section>
      <h2>Functions</h2>

      Functions are be added to subjects, predicates, and objects.

      <div id="tabs-29" class="nanotabs">
        <ul>
          <li><a href="#tab29-1" class="selected">YARRRML</a></li>
          <li><a href="#tab29-2">RML</a></li>
          <li><a href="#tab29-3">SPARQL-Generate</a></li>
        </ul>
        <div id="tab29-1">
          <pre id="example-fn" class="example" title="mapping with function on firstname">
            mappings:
              person:
                predicateobjects:
                 - predicates: foaf:firstName
                   objects:
                    - function: ex:toLowerCase
                      parameters:
                       - parameter: ex:input
                         value: $(firstname)
          </pre>
        </div>
        <div id="tab29-2">
            <pre id="example-fn-rml" class="example" title="mapping with function on firstname">
              <#TriplesMap> a rr:TriplesMap; #person

                rr:predicateObjectMap [
                  a rr:PredicateObjectMap;
                  rr:predicate foaf:worksFor;
                  rr:objectMap <#FunctionMap>
                ].

                <#FunctionMap>
                  fnml:functionValue [
                    rml:logicalSource <#LogicalSource> ;
                    rr:predicateObjectMap [
                      rr:predicate fno:executes ;
                      rr:objectMap [ rr:constant ex:toLowerCase ]
                    ] ;

                    rr:predicateObjectMap [
                      rr:predicate ex:input ;
                      rr:objectMap [ rr:reference "firstname" ]
                    ]
                  ] .
            </pre>
        </div>
        <div id="tab29-3">
            <pre id="example-fn-sg" class="example" title="mapping with function on firstname">
            TODO
            </pre>
        </div>
      </div>

      A shortcut version of this example looks as follows.

      <div id="tabs-30" class="nanotabs">
        <ul>
          <li><a href="#tab30-1" class="selected">YARRRML</a></li>
          <li><a href="#tab30-2">RML</a></li>
          <li><a href="#tab30-3">SPARQL-Generate</a></li>
        </ul>
        <div id="tab30-1">
          <pre id="example-fn-sc" class="example" title="mapping with function on firstname using shortcuts">
            mappings:
              person:
                predicateobjects:
                 - predicates: foaf:firstName
                   objects:
                    - function: ex:toLowerCase
                      parameters:
                       - [ex:input, $(firstname)]
          </pre>
        </div>
        <div id="tab30-2">
            <pre id="example-fn-sc-rml" class="example" title="mapping with function on firstname using shortcuts">
              <#TriplesMap> a rr:TriplesMap; #person

                rr:predicateObjectMap [
                  a rr:PredicateObjectMap;
                  rr:predicate foaf:worksFor;
                  rr:objectMap <#FunctionMap>
                ].

                <#FunctionMap>
                  fnml:functionValue [
                    rml:logicalSource <#LogicalSource> ;
                    rr:predicateObjectMap [
                      rr:predicate fno:executes ;
                      rr:objectMap [ rr:constant ex:toLowerCase ]
                    ] ;

                    rr:predicateObjectMap [
                      rr:predicate ex:input ;
                      rr:objectMap [ rr:reference "firstname" ]
                    ]
                  ] .
            </pre>
        </div>
        <div id="tab30-3">
            <pre id="example-fn-sc-sg" class="example" title="mapping with function on firstname using shortcuts">
            TODO
            </pre>
        </div>
      </div>
    </section>

    <section>
      <h2>Conditions</h2>

      <p>
        A subject or predicate-object combination is in certain cases only generated when a condition is fulfilled.
        In the following example, the predicate-object is only generated when the <code>firstname</code> is valid.
      </p>

        <pre id="example-cond" class="example" title="mapping with condition on predicate object">
          mappings:
            person:
              predicateobjects:
               - predicates: foaf:firstName
                 objects: $(firstname)
                 condition:
                  function: ex:isValid
                  parameters:
                   - [ex:input, $(firstname)]
        </pre>

        In the following example, the mapping is only executed for every record that has set its <code>ID</code>.

        <pre id="example-cond2" class="example" title="mapping with condition">
          mappings:
            person:
              subjects: http://example.com/{ID}
              condition:
                  function: ex:isSet
                  parameters:
                   - [ex:input, $(ID)]
              predicateobjects:
               - predicates: foaf:firstName
                 objects: $(firstname)
        </pre>
    </section>

    <section>
      <h2>Shortcuts</h2>

      <section>
        <h2>Keys</h2>

          <ul>
            <li>subjects: subject, s</li>
            <li>predicates: predicate, p</li>
            <li>inversepredicates: inversepredicate, i</li>
            <li>objects: object, o</li>
            <li>function: fn, f</li>
            <li>parameters: pms</li>
            <li>parameter: pm</li>
            <li>value: v</li>
          </ul>
      </section>

      <section>
        <h2>Predicates</h2>

          <ul>
            <li>http://www.w3.org/1999/02/22-rdf-syntax-ns#type: a</li>
          </ul>
      </section>
    </section>
  </body>

  <script src="https://www.sunsean.com/nanotabs/nanotabs.js"></script>
</html>
