prefixes:
  transit: http://vocab.org/transit/terms/
  wgs84_pos: http://www.w3.org/2003/01/geo/wgs84_pos#
  schema: http://schema.org/
  gn: http://www.geonames.org/ontology#
  geosp: http://www.telegraphis.net/ontology/geography/geography#
  ql: http://semweb.mmlab.be/ns/ql#

sources: 
- id: sourceVenue
  access: src/test/resources/example3/Venue.json
  type: "ql:JSONPath"
  iterator: $

mappings:
  AirportMapping:
    source: "src/test/resources/example3/Airport.csv"
    subject: "http://airport.example.com/{id}"
    classes: "transit:Stop"
    po:
      - predicate: "transit:service"
        mapping: BusMapping
        condition: [bus, "@id"]
      - predicate: "wgs84_pos:location"
        mapping: VenueMapping
        condition: [city, "$.location.city"]
  BusMapping:
    source:
      access: src/test/resources/example3/Transport.xml
      type: "ql:XPath"
      iterator: /transport/bus
    subject: "http://trans.example.com/busses/{@id}"
    classes: "transit:Service"
    po:
      - predicate: "transit:stop"
        mapping: BusStopMapping
  BusStopMapping:
    source: 
      access: src/test/resources/example3/Transport.xml
      type: "ql:XPath"
      iterator: /transport/bus/route/stop
    subject: "http://trans.example.com/stops/{@id}"
    classes: "transit:Stop"
    po:
      - ["rdfs:label","."]
  VenueMapping:
    source: sourceVenue
    subject: "http://loc.example.com/city/{$.location.city}"
    classes: "schema:City"
    po:
      - predicate: "wgs84_pos:location"
        mapping: LocationMapping
        condition: [$.location.city, "$.location.city"]
      - ["geosp:onContinent","$.location.continent"]
      - ["gn:countryCode","$.location.country"]
  LocationMapping:
    source: sourceVenue
    subject: "http://loc.example.com/latlong/{$.venue.latitude},{$.venue.longitude}"
    po:
      - ["wgs84_pos:lat","$.venue.latitude"]
      - ["wgs84_pos:long","$.venue.longitude"]
